# 6.1 새로운 작업

브랜치 : 저장공간에서 가상의 또 다른 저장공간을 만들어 프로젝트를 독립적으로 관리하는데 사용함.

가상폴더 : 기존 폴더를 복제하는 것과 다르게 가상폴더를 생성하여합니다

git init시 master브랜치가 자동생성됩니다.

`branch`명령어를 통해 현재브랜치를 확인할 수 있습니다.

```sh
$ git branch
* master
```

# 6.3 브랜치 생성

브랜치를 생성하기 위해선 기준이 되는 브랜치 또는 커밋이 하나 있어야합니다.
브랜치는 독립된 공간을 할당받고, 기본 브랜치의 소스코드에 영향을 주지 않고 새로운 작업을 할 수 있습니다.

### 6.3.1 브랜치 생성
`branch`명령어를 이용해 기본 제공되는 master 이외의 브랜치를 생성할 수 있습니다.

```sh
$ git branch 생성할브랜치이름 커밋ID
```
브랜치 이름만 입력하면 현재 HEAD를 기준으로 새로운 브랜치를 생성하고, 커밋 ID를 입력하면 해당 커밋을 기준으로 브랜치를 생성합니다.

```sh
$ git branch footer
$ git branch
  footer 
* master
```

### 6.3.2 브랜치 이름
사전 예약된 이름은 없지만 작업을 알기 쉬운 이름으로 짓는게 좋습니다.

/를 이용하여 계층적 구조로 만들 수 있음.
기호\(-\), 마침표\(.\)로 시작할 수 없음
연속마침표\(..\),빈칸,공백문자,\~, \^, \? \*, \[\]를 포함할 수 없음.

# 6.4 브랜치 확인

### 6.4.1 브랜치 목록 확인 

`branch`명령어로 브랜치의 목록을 확인할 수 있습니다.
현재 브랜치 앞에는 \*표시가 붙습니다.

### 6.4.2 브랜치 해시
`rev-parse`명령어를 통해 현재 브랜치가 어떤 커밋의 해시값을 가리키는지 확인할 수 있습니다.

```sh
$ git rev-parse 브랜치이름
```

### 6.4.3 브랜치 세부 사항 확인

branch명령어에 `-v` 혹은 `-verbose` 옵션을 사용하면 브랜치의 이름, 커밋 ID, 커밋메시지를 볼 수 있습니다.

```sh
$ git branch -v
* feature d84766c first
  footer d84766c first
  master d84766c first
```

### 6.5 브랜치 이동

### 6.5.1 체크아웃

`checkout`명령어를 이용해 브랜치간을 이동할 수 있습니다.

```sh
$ git checkout 브랜치이름
```

주의 : 깃은 하나의 워킹디렉토리만 가지므로,
한 브랜치에서만 작업과 커밋을 할 수 있어 다른 브랜치에서 작업하려면 반드시 브랜치를 변경하여 워킹디렉토리를 재설정해야합니다.
또 커밋하지 않은 수정사항이 있을 경우 브랜치를 변경할 수 없습니다.

- checkout명령어는 브랜치 이외에도 특정 파일이나 커밋으로 이동할 수 있습니다

```sh
$ git checkout 브랜치이름
$ git checkout -- 파일이름 
```

이중대시\(--\)를 사용하면 파일이름을 정확히 지정하여 브랜치를 변경할 수 있습니다. 이렇게하면 깃의 다른 옵션 명령어와 혼동하지 않습니다.

**수정된 파일이 있을 경우**
새 브랜치를 만든 후 두 브랜치의 HEAD가 동일한 커밋ID를 가리키고 있을 경우
(브랜치 만들고 둘 다 커밋을 한적이 없다면)
변경사항을 commit하지 않아도 스위칭이 가능하지만
각자 다른 HEAD를 가리키고있을 경우 커밋하기전까지
스위칭할 수 없습.

### 6.5.2 브랜치의 동작 원리

HEAD는 항상 변경된 브랜치의 마지막 커밋을 가리킵니다.
브랜치 변경 시 새로운 작업을 할 수 있도록 워킹디렉토리가 변경됩니다.

### 6.5.4 이전 브랜치

```sh
$ git checkout -
```
\-를 입력하면 직전 브랜치로 이동할 수 있습니다.

# 6.5.5 워킹 디렉토리 정리

브랜치 이동 시 워킹디렉토리가 정리되지 않았을 경우 에러가 발생합니다.

# 6.6 브랜치 공간

### 6.6.1 브랜치 로그

브랜치의 흐름을 확인하기 위해
git log에 `--graph` 옵션을 추가합니다.

`--more`옵션으로 출력될 커밋 개수를 제한할 수 있습니다.

```sh
$ git show-branch --more=10
```